**Mentis AI**

A compact project that bridges an ESP32 audio client with OpenAI Realtime APIs. It provides firmware for the ESP32 (audio capture/playback), a Python server to receive UDP/TCP audio from devices and forward it to OpenAI, and small helper/MCP server utilities for tool integrations.

**Repository Layout**
- **arduino/**: ESP32 firmware (audio capture, UDP/TCP client).
- **docker_proj/**: Python server and helper modules that connect to OpenAI Realtime and handle TCP/UDP interactions.
- **MCP_servers/**: helper microservices that can be launched on demand by the main server.
 - **MCP_servers/**: placeholder microservices. MCP server functionality is experimental and NOT fully implemented — these are optional helpers that may be launched on demand if/when the code paths call them.
- **recordings_folder/**: audio samples and logs (runtime output).

**Quick Overview**
- `docker_proj/App.py`: main Python server — receives UDP audio, sends to OpenAI Realtime via WebSocket, routes responses to ESP32 or local playback.
- `docker_proj/helper.py`: utilities and AI function/tool handlers (also contains some example API calls).
- `arduino/working_AudioUDP/working_AudioUDP.ino`: ESP32 firmware that records audio and sends/receives audio packets.

**Quick start (local, development)**
1. Create a Python virtual environment and install dependencies:

```bash
python -m venv .venv
.venv\Scripts\Activate.ps1   # PowerShell (Windows)
pip install -r docker_proj/requirements.txt
```

2. Set required environment variables (example):

```powershell
$env:OPENAI_API_KEY = "sk-..."
```

3. Run the server:

```powershell
python docker_proj/App.py
```

**Docker**
- A `Dockerfile` is provided in `docker_proj/`. Keep the `Dockerfile` in the repo (it documents how to build the image). Do NOT hardcode secrets into the Dockerfile — use runtime environment variables or Docker secrets.
- Add a `.dockerignore` to exclude sensitive files (see Security checklist below).

**Security & Publishing Checklist (essential)**
- Remove or rotate any hardcoded secrets before publishing. This repo currently contains several hardcoded credentials in development files (examples found in `arduino/working_AudioUDP/working_AudioUDP.ino` and `docker_proj/helper.py`). Treat them as compromised and rotate them now.
- Move secrets to environment variables or an ignored secrets file (e.g., `.env`, `secrets.h`) and add those filenames to `.gitignore`.
- Add a `.gitattributes` to normalize line endings (use LF in repo):

```
* text=auto eol=lf
```

- If secrets were previously committed, scrub them from git history (use `git filter-repo` or BFG) and then force-push. Be aware this rewrites history for all collaborators.

**Line endings**
- On Windows Git may convert LF→CRLF in the working tree. Use `.gitattributes` + `git add --renormalize .` to normalize repository line endings.

**Where IPs and client addresses appear**
- The server binds sockets to `0.0.0.0` by default (all interfaces). That is not a credential but increases exposure if the host has a public IP. If you only need local access, bind to `127.0.0.1`.

**What to review before publishing**
- Remove WiFi SSID/password from firmware files.
- Remove/rotate API keys found in `docker_proj/helper.py`.
- Add `.gitignore` entries for any secret files and `recording_logs/`/`recordings_folder/` if needed.
- Optionally add a short `README.example.env` or `secrets.example` to document required env vars without secrets.

**Useful commands (history scrubbing)**
- Example (recommended): prepare `replacements.txt` listing secrets and run `git filter-repo --replace-text replacements.txt` on a clone of your repo. See official docs for full steps and collaborator guidance.

**Support & next steps**
- I can: (a) add a `.gitattributes` and `.dockerignore`, (b) create `secrets.example` and update the `.gitignore`, or (c) prepare exact `git filter-repo` steps to remove committed secrets. Which would you like me to do?

Note about MCP servers:
- The `MCP_servers/` folder contains example service scripts, but the MCP server system is an experimental integration. `do_function()`/`call_function()` will attempt to launch a matching script if requested, however the full MCP orchestration, discovery and production-ready behavior is not implemented. Treat these as optional examples rather than a shipped, supported subsystem.

---
_Generated by repo scanner — update this README with project-specific docs before publishing._
1. in arduino the ip address of the public ec2 instance is needed
2. in DOCKER FILE the apikeys are needed before deploying
